var Utils={};(function(){var o=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],a=function(a){return isNaN(a)?"00":o[(a-a%16)/16]+o[a%16]};this.rgb2hex=function(o){return o=o.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),"#"+a(o[1])+a(o[2])+a(o[3])},this.listenerCambioRapido=function(){$("#pCambioRapido").on("shown.bs.modal",function(){$("#users").jCombo(siteUrl+"session/obtenerJsonUsuariosImpersonables",{handlerLoad:function(){$("#users").select2({placeholder:"Seleccione usuario",allowClear:!0,width:"100%",dropdownAutoWidth:!0})}})}),$("#btnCambioRapido").click(function(){var o=$("#users").val();$.get(siteUrl+"session/impersonar/userID/"+o).done(function(o){location.href=siteUrl}).fail(function(o){})})},this.validaForm=function(o){$(".has-error").removeClass("has-error");var a=!0,r="",e="";return 0==$("#"+o).length?!1:($.each($("#"+o+" .required"),function(o,r){var t=$(r).get(0).tagName,s=$(r).attr("id");"SELECT"==t&&($("#"+s+" :selected").length<1||0==$("#"+s+" :selected").val())&&($("#"+s).closest("div").addClass("has-error"),a=!1,e+="<i class='fa fa-caret-right'></i>",e+="&nbsp;"+$("#"+s).attr("placeholder")+"<br/>"),"INPUT"==t&&""==$("#"+s).val()&&($("#"+s).closest("div").addClass("has-error"),a=!1,e+="<i class='fa fa-caret-right'></i>",e+="&nbsp;"+$("#"+s).attr("placeholder")+"<br/>"),"TEXTAREA"==t&&""==$("#"+s).val()&&($("#"+s).closest("div").addClass("has-error"),a=!1,e+="<i class='fa fa-caret-right'></i>",e+="&nbsp;"+$("#"+s).attr("placeholder")+"<br/>")}),a||(r+="<span>",r+="Favor, aseg√∫rese de llenar campos obligatorios.<br/>",r+=e,r+="</span>",bootbox.dialog({title:"Error",message:r,buttons:{danger:{label:"Cerrar",className:"btn-danger"}}})),a)},this.toggleNavbarMethod=function(){$(window).width()>768?$(".navbar .dropdown").on("mouseover",function(){$(".dropdown-toggle",this).trigger("click")}).on("mouseout",function(){$(".dropdown-toggle",this).trigger("click").blur()}):$(".navbar .dropdown").off("mouseover").off("mouseout")},this.ajaxRequestMonitor=function(){$(document).ajaxComplete(function(o,a,r){switch(a.status){case 401:location.href="http://asdigital.minsal.cl/acceso";break;case 500:alert("Ha ocurrido un error interno, contacte un administrador")}})}}).apply(Utils);