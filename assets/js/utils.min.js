var Utils={};(function(){var a=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r=function(r){return isNaN(r)?"00":a[(r-r%16)/16]+a[r%16]};this.rgb2hex=function(a){return a=a.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),"#"+r(a[1])+r(a[2])+r(a[3])},this.listenerCambioRapido=function(){$("#pCambioRapido").on("shown.bs.modal",function(){$("#users").jCombo(siteUrl+"session/obtenerJsonUsuariosImpersonables",{handlerLoad:function(){$("#users").select2({placeholder:"Seleccione usuario",allowClear:!0,width:"100%",dropdownAutoWidth:!0})}})}),$("#btnCambioRapido").click(function(){var a=$("#users").val();$.get(siteUrl+"session/impersonar/userID/"+a).done(function(a){location.href=siteUrl}).fail(function(a){})})},this.validaForm=function(a){$(".has-error").removeClass("has-error");var r=!0,e="",o="";return 0==$("#"+a).length?!1:($.each($("#"+a+" .required"),function(a,e){var t=$(e).get(0).tagName,s=$(e).attr("id");"SELECT"==t&&($("#"+s+" :selected").length<1||0==$("#"+s+" :selected").val())&&($("#"+s).closest("div").addClass("has-error"),r=!1,o+="<i class='fa fa-caret-right'></i>",o+="&nbsp;"+$(e).attr("placeholder")+"<br/>"),"INPUT"==t&&""==$(e).val()&&($("#"+s).closest("div").addClass("has-error"),r=!1,o+="<i class='fa fa-caret-right'></i>",o+="&nbsp;"+$(e).attr("placeholder")+"<br/>"),"TEXTAREA"==t&&""==$(e).val()&&($("#"+s).closest("div").addClass("has-error"),r=!1,o+="<i class='fa fa-caret-right'></i>",o+="&nbsp;"+$(e).attr("placeholder")+"<br/>"),"TABLE"==t&&$("#"+s+" tr").length<2&&(r=!1,o+="<i class='fa fa-caret-right'></i>",o+="&nbsp;"+$(e).attr("placeholder")+"<br/>")}),r||(e+="<span>",e+="Favor, aseg√∫rese de llenar campos obligatorios.<br/>",e+=o,e+="</span>",bootbox.dialog({title:"Error",message:e,buttons:{danger:{label:"Cerrar",className:"btn-danger"}}})),r)},this.toggleNavbarMethod=function(){$(window).width()>768?$(".navbar .dropdown").on("mouseover",function(){$(".dropdown-toggle",this).trigger("click")}).on("mouseout",function(){$(".dropdown-toggle",this).trigger("click").blur()}):$(".navbar .dropdown").off("mouseover").off("mouseout")},this.ajaxRequestMonitor=function(){$(document).ajaxComplete(function(a,r,e){switch(r.status){case 401:location.href="http://asdigital.minsal.cl/acceso";break;case 500:alert("Ha ocurrido un error interno, contacte un administrador")}})}}).apply(Utils);