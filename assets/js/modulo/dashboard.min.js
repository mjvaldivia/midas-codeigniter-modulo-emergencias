function setGrafico(){$.ajax({dataType:"json",cache:!1,async:!0,data:"",type:"post",url:siteUrl+"home/json_cantidad_emergencia_mes",error:function(e,a,t){},success:function(e){if(e.correcto){var a=["En","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];Morris.Line({element:"morris-chart-line",data:e.data,xkey:"m",hideHover:!0,ykeys:e.ykeys,labels:e.labels,xLabelFormat:function(e){return a[e.getMonth()]},smooth:!1,resize:!0})}}})}function reload(){reloadGrillaEmergencias(),reloadGrillaAlarmas()}function reloadGrillaAlarmas(){var e={desde:$("#fecha_desde").val(),hasta:$("#fecha_hasta").val()};$.ajax({dataType:"html",cache:!1,async:!0,data:e,type:"post",url:siteUrl+"home/ajax_grilla_alarmas",error:function(e,a,t){},success:function(e){$("#contendor-grilla-alarma").html(e)}})}function reloadGrillaEmergencias(){var e={desde:$("#fecha_desde").val(),hasta:$("#fecha_hasta").val()};$.ajax({dataType:"html",cache:!1,async:!0,data:e,type:"post",url:siteUrl+"home/ajax_grilla_emergencias",error:function(e,a,t){},success:function(e){$("#contendor-grilla-emergencia").html(e)}})}function setCalendario(){var e=new Date;e.getDate(),e.getMonth(),e.getFullYear();$("#calendar").fullCalendar({header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},lang:"es",editable:!1,droppable:!1,eventSources:[{url:siteUrl+"home/json_eventos_calendario_alertas",type:"POST",error:function(){alert("there was an error while fetching events!")},color:"orange",textColor:"black"},{url:siteUrl+"home/json_eventos_calendario_emergencias",type:"POST",error:function(){alert("there was an error while fetching events!")},color:"red",textColor:"white"}]})}$.fn.hasAttr=function(e){return void 0!==this.attr(e)},$(document).ready(function(){setCalendario(),setGrafico(),reload(),$(".datatable.paginada").livequery(function(){if($(this).parent().hasAttr("data-row"))var e=parseInt($(this).parent().attr("data-row"));else var e=10;var a=$(this).attr("id");$(this).dataTable({lengthMenu:[[5,10,25,50],[5,10,25,50]],pageLength:e,aaSorting:[],language:{url:baseUrl+"assets/lib/DataTables-1.10.8/Spanish.json"},fnDrawCallback:function(e){$("#"+a).removeClass("hidden")}})})});