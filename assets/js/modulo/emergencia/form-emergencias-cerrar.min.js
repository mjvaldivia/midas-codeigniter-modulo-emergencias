var FormEmergenciasCerrar=Class({id:null,__construct:function(r){this.id=r},callBack:function(){$("#btnBuscar").trigger("click")},guardaFormulario:function(){var r=this,a=$("#form-cerrar").serializeArray(),e=!1;return $.ajax({dataType:"json",cache:!1,async:!1,data:a,type:"post",url:siteUrl+"emergencia/cerrarEmergencia",error:function(r,a,e){},success:function(a){1==a.correcto?(procesaErrores(a.error),r.callBack(),e=!0):($("#form-cerrar-error").removeClass("hidden"),procesaErrores(a.error))}}),e},mostrarFormulario:function(){var r=this;$.ajax({dataType:"html",cache:!1,async:!0,data:"",type:"post",url:siteUrl+"emergencia/formCerrar/id/"+this.id,error:function(r,a,e){},success:function(a){bootbox.dialog({message:a,title:"Finalizar emergencia",buttons:{guardar:{label:" Aceptar",className:"btn-default fa fa-check",callback:function(){return r.guardaFormulario()}},cerrar:{label:" Cancelar",className:"btn-primary fa fa-close",callback:function(){}}}})}})}});