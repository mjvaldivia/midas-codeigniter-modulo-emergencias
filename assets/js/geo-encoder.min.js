var GeoEncoder={datum:null,eccSquared:null,a:null,K0:.9996,initParams:function(){switch(this.datum=this.datum||"ETRS89",this.datum){case"Airy":this.a=6377563,this.eccSquared=.00667054;break;case"Australian National":this.a=6378160,this.eccSquared=.006694542;break;case"Bessel 1841":this.a=6377397,this.eccSquared=.006674372;break;case"Bessel 1841 Nambia":this.a=6377484,this.eccSquared=.006674372;break;case"Clarke 1866":this.a=6378206,this.eccSquared=.006768658;break;case"Clarke 1880":this.a=6378249,this.eccSquared=.006803511;break;case"Everest":this.a=6377276,this.eccSquared=.006637847;break;case"Fischer 1960 Mercury":this.a=6378166,this.eccSquared=.006693422;break;case"Fischer 1968":this.a=6378150,this.eccSquared=.006693422;break;case"GRS 1967":this.a=6378160,this.eccSquared=.006694605;break;case"GRS 1980":this.a=6378137,this.eccSquared=.00669438;break;case"Helmert 1906":this.a=6378200,this.eccSquared=.006693422;break;case"Hough":this.a=6378270,this.eccSquared=.00672267;break;case"International":this.a=6378388,this.eccSquared=.00672267;break;case"Krassovsky":this.a=6378245,this.eccSquared=.006693422;break;case"Modified Airy":this.a=6377340,this.eccSquared=.00667054;break;case"Modified Everest":this.a=6377304,this.eccSquared=.006637847;break;case"Modified Fischer 1960":this.a=6378155,this.eccSquared=.006693422;break;case"South American 1969":this.a=6378160,this.eccSquared=.006694542;break;case"WGS 60":this.a=6378165,this.eccSquared=.006693422;break;case"WGS 66":this.a=6378145,this.eccSquared=.006694542;break;case"WGS 72":this.a=6378135,this.eccSquared=.006694318;break;case"ED50":this.a=6378388,this.eccSquared=.00672267;break;case"WGS 84":case"EUREF89":case"ETRS89":this.a=6378137,this.eccSquared=.00669438;break;default:return null}},decimalDegreeToUtm:function(e,a){this.initParams();var t=parseFloat(e)+180-360*parseInt((parseFloat(e)+180)/360)-180,s=this.deg2rad(parseFloat(a)),c=this.deg2rad(t),i=null,r=null,h=null,u=null,d=null,n=null,l=null,S=null,q=null,M=null,o=null,k=null;return t>=8&&13>=t&&a>54.5&&58>a?i=32:a>=56&&64>a&&t>=3&&12>t?i=32:(i=parseInt((t+180)/6)+1,a>=72&&84>a&&(t>=0&&9>t?i=31:t>=9&&21>t?i=33:t>=21&&33>t?i=35:t>=33&&42>t&&(i=37))),r=6*(i-1)-180+3,h=this.deg2rad(r),u=i+this.getUtmLetterDesignator(a),d=this.eccSquared/(1-this.eccSquared),n=this.a/Math.sqrt(1-this.eccSquared*Math.sin(s)*Math.sin(s)),l=Math.tan(s)*Math.tan(s),S=d*Math.cos(s)*Math.cos(s),q=Math.cos(s)*(c-h),M=this.a*((1-this.eccSquared/4-3*this.eccSquared*this.eccSquared/64-5*this.eccSquared*this.eccSquared*this.eccSquared/256)*s-(3*this.eccSquared/8+3*this.eccSquared*this.eccSquared/32+45*this.eccSquared*this.eccSquared*this.eccSquared/1024)*Math.sin(2*s)+(15*this.eccSquared*this.eccSquared/256+45*this.eccSquared*this.eccSquared*this.eccSquared/1024)*Math.sin(4*s)-35*this.eccSquared*this.eccSquared*this.eccSquared/3072*Math.sin(6*s)),o=parseFloat(this.K0*n*(q+(1-l+S)*q*q*q/6+(5-18*l+l*l+72*S-58*d)*q*q*q*q*q/120)+5e5),k=parseFloat(this.K0*(M+n*Math.tan(s)*(q*q/2+(5-l+9*S+4*S*S)*q*q*q*q/24+(61-58*l+l*l+600*S-330*d)*q*q*q*q*q*q/720))),0>a&&(k+=1e7),k=Math.round(k,-2),o=Math.round(o,-2),[o,k,u]},utmToDecimalDegree:function(e,a,t){this.initParams();var s=(1-Math.sqrt(1-this.eccSquared))/(1+Math.sqrt(1-this.eccSquared)),c=e-5e5,i=a,r=null,h=null,u=null,d=null,n=null,l=null,S=null,q=null,M=null,o=null,k=null,b=null,m=null,g=null,f=null,F=null,E=t.match(/(\d+)(\w)/i);return h=E[1],u=E[2],u>"N"?r=1:(r=0,i-=1e7),d=6*(h-1)-180+3,n=this.eccSquared/(1-this.eccSquared),l=i/this.K0,S=l/(this.a*(1-this.eccSquared/4-3*this.eccSquared*this.eccSquared/64-5*this.eccSquared*this.eccSquared*this.eccSquared/256)),q=S+(3*s/2-27*s*s*s/32)*Math.sin(2*S)+(21*s*s/16-55*s*s*s*s/32)*Math.sin(4*S)+151*s*s*s/96*Math.sin(6*S),M=this.rad2deg(q),o=this.a/Math.sqrt(1-this.eccSquared*Math.sin(q)*Math.sin(q)),k=Math.tan(q)*Math.tan(q),b=n*Math.cos(q)*Math.cos(q),m=this.a*(1-this.eccSquared)/Math.pow(1-this.eccSquared*Math.sin(q)*Math.sin(q),1.5),g=c/(o*this.K0),F=q-o*Math.tan(q)/m*(g*g/2-(5+3*k+10*b-4*b*b-9*n)*g*g*g*g/24+(61+90*k+298*b+45*k*k-252*n-3*b*b)*g*g*g*g*g*g/720),F=this.rad2deg(F),f=(g-(1+2*k+b)*g*g*g/6+(5-2*b+28*k-3*b*b+8*n+24*k*k)*g*g*g*g*g/120)/Math.cos(q),f=d+this.rad2deg(f),[F,f]},rad2deg:function(e){return 57.29577951308232*e},deg2rad:function(e){return.017453292519943295*e},getUtmLetterDesignator:function(e){return 84>=e&&e>=72?"X":72>e&&e>=64?"W":64>e&&e>=56?"V":56>e&&e>=48?"U":48>e&&e>=40?"T":40>e&&e>=32?"S":32>e&&e>=24?"R":24>e&&e>=16?"Q":16>e&&e>=8?"P":8>e&&e>=0?"N":0>e&&e>=-8?"M":-8>e&&e>=-16?"L":-16>e&&e>=-24?"K":-24>e&&e>=-32?"J":-32>e&&e>=-40?"H":-40>e&&e>=-48?"G":-48>e&&e>=-56?"F":-56>e&&e>=-64?"E":-64>e&&e>=-72?"D":-72>e&&e>=-80?"C":"Z"}};