!function(e){e.fn.picklist=function(t){this.self={};var i=function(){if(e(this.elemento).attr("id"))this.id=e(this.elemento).attr("id");else{do var t=__random(1,1e3);while(!e("#"+t).length);this.id=t}},n=function(){var t=e(this.elemento).find("option"),i=e(this.elemento).parent().get(0),n=document.createElement("label");n.appendChild(document.createTextNode("Disponibles"));var s=document.createElement("label");s.appendChild(document.createTextNode("Seleccionados"));var o=document.createElement("div"),l=document.createElement("div");l.appendChild(n),l.setAttribute("class","picklist disponibles");var c=document.createElement("div");c.appendChild(s),c.setAttribute("class","picklist seleccionados");var a=document.createElement("div");a.setAttribute("class","picklist botonera"),a.appendChild(document.createElement("label"));var d=document.createElement("i");d.setAttribute("class",this.opciones.iconBtnAgregar);var r=document.createElement("i");r.setAttribute("class",this.opciones.iconBtnAgregarTodos);var p=document.createElement("i");p.setAttribute("class",this.opciones.iconBtnQuitar);var u=document.createElement("i");u.setAttribute("class",this.opciones.iconBtnQuitarTodos);var h=document.createElement("a");h.setAttribute("id","picklist-btn-"+this.id+"-a"),h.setAttribute("href","javascript:void(0)"),h.appendChild(d);var b=document.createElement("a");b.setAttribute("id","picklist-btn-"+this.id+"-q"),b.setAttribute("href","javascript:void(0)"),b.appendChild(p);var v=document.createElement("a");v.setAttribute("id","picklist-btn-"+this.id+"-at"),v.setAttribute("href","javascript:void(0)"),v.appendChild(r);var m=document.createElement("a");m.setAttribute("id","picklist-btn-"+this.id+"-qt"),m.setAttribute("href","javascript:void(0)"),m.appendChild(u),h.appendChild(document.createTextNode(this.opciones.textBtnAgregar)),h.setAttribute("title","Agregar"),h.setAttribute("class",this.opciones.classBtnAgregar),v.appendChild(document.createTextNode(this.opciones.textBtnAgregarTodos)),v.setAttribute("title","Agregar todos"),v.setAttribute("class",this.opciones.classBtnAgregarTodos),b.appendChild(document.createTextNode(this.opciones.textBtnQuitar)),b.setAttribute("title","Quitar"),b.setAttribute("class",this.opciones.classBtnQuitar),m.appendChild(document.createTextNode(this.opciones.textBtnQuitarTodos)),m.setAttribute("title","Quitar todos"),m.setAttribute("class",this.opciones.classBtnQuitarTodos);var f=document.createElement("select"),A=document.createElement("select");f.setAttribute("multiple","true"),f.setAttribute("id",this.opciones.idSelectDisponibles),f.setAttribute("class",this.opciones.classSelectDisponibles),A.setAttribute("multiple","true"),A.setAttribute("id",this.opciones.idSelectSeleccionados),A.setAttribute("class",this.opciones.classSelectSeleccionados);for(var g=0;g<t.length;g++){var x=t[g],S=document.createElement("option");S.setAttribute("value",e(x).val()),S.textContent=e(x).text(),f.appendChild(S)}c.appendChild(A),l.appendChild(f),a.appendChild(h),a.appendChild(v),a.appendChild(b),a.appendChild(m),o.setAttribute("class","picklist"),o.appendChild(l),o.appendChild(a),o.appendChild(c),i.appendChild(o)},s=function(){var t=this;e("#picklist-btn-"+this.id+"-a").click(function(){var i=e("#"+t.opciones.idSelectDisponibles+" option:selected");if(i.length){var n=e(t.elemento).val()||[];e.each(i,function(i,s){e("#"+t.opciones.idSelectSeleccionados).append(e("<option>",{value:s.value,text:s.text})),n.push(s.value),e(s).remove()}),e(t.elemento).val(n)}}),e("#picklist-btn-"+this.id+"-q").click(function(){var i=e("#"+t.opciones.idSelectSeleccionados+" option:selected");if(i.length){var n=e("#"+t.opciones.idSelectSeleccionados+" option:not(:selected)"),s=[];e.each(i,function(i,n){e("#"+t.opciones.idSelectDisponibles).append(e("<option>",{value:n.value,text:n.text})),e(n).remove()}),e.each(n,function(e,t){s.push(t.value)}),e(t.elemento).val(s)}}),e("#picklist-btn-"+this.id+"-at").click(function(){var i=e("#"+t.opciones.idSelectDisponibles+" option");if(i.length){var n=[];e.each(i,function(i,s){e("#"+t.opciones.idSelectSeleccionados).append(e("<option>",{value:s.value,text:s.text})),n.push(s.value),e(s).remove()}),e(t.elemento).val(n)}}),e("#picklist-btn-"+this.id+"-qt").click(function(){var i=e("#"+t.opciones.idSelectSeleccionados+" option");if(i.length){var n=[];e.each(i,function(i,n){e("#"+t.opciones.idSelectDisponibles).append(e("<option>",{value:n.value,text:n.text})),e(n).remove()}),e(t.elemento).val(n)}})},o={init:function(t){self={id:null,opciones:null,elemento:this},i.call(self),opcionesPorDefecto={idSelectDisponibles:self.id+"_disponibles",idSelectSeleccionados:self.id+"_seleccionados",textBtnAgregar:"",iconBtnAgregar:"fa fa-angle-right",classBtnAgregar:"btn btn-xs btn-default",textBtnAgregarTodos:"",iconBtnAgregarTodos:"fa fa-angle-double-right",classBtnAgregarTodos:"btn btn-xs btn-default",textBtnQuitar:"",iconBtnQuitar:"fa fa-angle-left",classBtnQuitar:"btn btn-xs btn-default",textBtnQuitarTodos:"",iconBtnQuitarTodos:"fa fa-angle-double-left",classBtnQuitarTodos:"btn btn-xs btn-default",classSelectDisponibles:"form-control",classSelectSeleccionados:"form-control"},self.opciones=e.extend(opcionesPorDefecto,t),e(self.elemento).css("display","none"),n.call(self),s.call(self),e("#"+self.opciones.idSelectDisponibles).val(self.opciones.value),e("#picklist-btn-"+self.id+"-a").trigger("click")},destroy:function(){e(this).parent().find("div.picklist").remove(),e(this).css("display","block")},reset:function(){e("#picklist-btn-"+self.id+"-qt").click()}};return o[t]?o[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:o.init.apply(this,arguments)}}(jQuery);